{"version":3,"sources":["layout/aside/index.js","pages/default-search-page/index.js","pages/song-menu/index.js","rxStore/playRx.js","components/song-list/index.js","pages/wy-search-result/index.js","pages/qq-search-result/index.js","layout/main/index.js","components/audio-play/index.js","layout/index.js","App.js","serviceWorker.js","index.js"],"names":["Aside","test","className","children","match","location","pathname","to","type","Title","Typography","Paragraph","Text","Presentation","level","strong","mark","underline","QqExplain","WyExplain","DefaultSearchPage","Search","Input","useState","platform","setPlatform","SearchButton","withRouter","history","placeholder","enterButton","size","onSearch","value","searchVlue","push","state","handlerSearch","style","width","Group","defaultValue","buttonStyle","onChange","evnt","target","Button","disabled","SongMenu","currentPlay","BehaviorSubject","url","img","name","art","id","setCurrentPlay","obj","play","next","playList","pushPlayList","list","setFormat","number","res","Math","floor","SongList","listData","playSong","song","action","isExist","find","item","source","getQqUrl","getWyUrl","JSON","stringify","axios","get","then","data","req_0","midurlinfo","purl","span","map","index","key","title","placement","onClick","album","duration","WySearchResultRouter","props","songList","setSongList","useEffect","pathState","result","code","songs","artists","singers","join","QQsearchResultRouter","singer","interval","mid","LayoutMain","exact","path","component","AudioPlay","useObservable","asObservable","pList","showListBox","setShowListBox","nextPlay","forEach","length","deleteSongListItem","splice","deletePlayList","src","controls","autoPlay","onEnded","alert","Layout","App","Boolean","window","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6c31fc82.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport { Route, Link } from 'react-router-dom'\nimport { Icon } from 'antd';\nimport './style.scss'\n\nconst Aside = ({ test })=> {\n  return(\n    <div className=\"layout-aside-box p-20\">\n      <h1 className=\"logo-module\">\n        <span>请登录</span>\n      </h1>\n        <div>\n          <p className=\"menu-title\">在线音乐</p>\n          <ul>\n            <Route\n              children={(match)=>(\n                <li className={match.location.pathname === '/' ? 'aside-active' : ''}>\n                  <Link to=\"/\">\n                    <Icon type=\"search\"/><span>搜索歌曲</span>\n                  </Link>\n                </li>\n              )}>\n            </Route>\n            <Route\n              children={(match)=>(\n                <li className={match.location.pathname === '/song-menu' ? 'aside-active' : ''}>\n                  <Link to=\"/song-menu\">\n                    <Icon type=\"customer-service\"/><span>查看歌单</span>\n                  </Link>\n                </li>\n              )}>\n            </Route>\n          </ul>\n        </div>\n          <div>\n            <p className=\"menu-title\">我的音乐</p>\n            <ul>\n              <li>\n                <Icon type=\"heart\"/>\n                <span>我的喜欢</span>\n              </li>\n              <li>\n                <Icon type=\"desktop\" />\n                <span>本地和下载</span>  \n              </li>\n            </ul>\n          </div>\n          <div>\n          <p className=\"menu-title\">音乐台介绍</p>\n          <ul>\n            <li>\n              <Icon type=\"exception\"/>\n              <span>功能介绍</span>\n            </li>\n            <li>\n              <Icon type=\"pushpin\" />\n              <span>我要提意见</span>  \n            </li>\n          </ul>\n        </div>\n    </div>\n  )\n}\n\nexport default Aside","/**\n  hooks的值有\n    1. platform,0为QQ音乐/1为网易云音乐/2为林悦台\n */\nimport React, { useState } from 'react'\nimport { Typography, Input, Radio  } from 'antd';\nimport './style.scss'\nimport { withRouter } from \"react-router-dom\";\nconst { Title, Paragraph, Text } = Typography\nconst DefaultSearchPage = ()=> {\n  const { Search } = Input;\n  const [platform, setPlatform] = useState(0);\n  /**\n   * \n   */\n  const handlerSearch = (searchVlue,history)=> {  \n    //点击搜索按钮时执行此函数,给新路由带上搜索的 search 值和 platform 值\n    if (platform === 0) {\n      history.push({ pathname:'qq-search-result', state:{ searchVlue, platform }})\n    }else if(platform === 1){\n      history.push({ pathname:'wy-search-result', state:{ searchVlue, platform }})\n    }else{\n\n    }\n    \n  }\n  const SearchButton = withRouter(({history})=>{\n    return (\n      <Search\n        placeholder=\"暂时只支持搜索歌曲名称\"\n        enterButton=\"搜索\"\n        size=\"large\"\n        onSearch={value => { handlerSearch(value,history) }}\n        style={{ width: 280 }}\n      />\n    )\n  })\n  return(\n    <div className=\"default-search-page\">\n      <Presentation/>\n      <div className=\"search-box\">\n        <div className=\"m-b-20\">\n          <SearchButton/>\n        </div>\n        <div className=\"m-b-20\">\n          <Radio.Group defaultValue={platform} buttonStyle=\"solid\" onChange={(evnt)=>{setPlatform(evnt.target.value)}}>\n            <Radio.Button value={0}>QQ音乐</Radio.Button>\n            <Radio.Button value={1}>网易云音乐</Radio.Button>\n            <Radio.Button value={2} disabled>林悦台</Radio.Button>\n          </Radio.Group>\n        </div>\n        <div>\n          { platform === 0 && <QqExplain/> }\n          { platform === 1 && <WyExplain/> }\n        </div>\n      </div>\n    </div>\n  )\n}\n\n/**\n * 搜索页面的介绍组件\n */\nconst Presentation = ()=> {\n  return(\n    <div className=\"presentation\">\n      <div>\n        <Title level={2}>搜索功能介绍</Title>\n        <Paragraph>\n          你可以通过选择下面的按钮来控制你搜索的结果来源是<Text strong> 网易云音乐 </Text>还是<Text strong> QQ音乐 </Text>.\n          如果因为 <Text mark>版权</Text> 或是 <Text mark>封禁原因</Text> 而搜索不到歌曲或是播放不成功时,可以选择 <Text strong> 林悦台 </Text>试一试.\n        </Paragraph>\n        <Paragraph>\n          <Text strong> 林悦台 </Text>是我个人的服务器,里面上传了一些百度云下载的音乐,目前已上传的有 <Text underline>周杰伦</Text> 的大部分歌曲, <Text underline>李志</Text> 的全部歌曲.\n          如果后续有时间也同样能力的话,我会写一个上传接口,提供用户自定义上传歌曲.\n        </Paragraph>\n      </div>\n    </div>\n  )\n}\n\n/**\n *搜索页面的搜索功能组件\n */\nconst QqExplain = () => {\n  return(\n    <div>\n      <Title level={2}>QQ音乐的说明</Title>\n      <Paragraph>\n        你有可能会<Text strong> 播放失败 </Text>是因为有些曲目因为版权问题无法找到资源,暂时这样,后面我再想办法优化.如果你发现播放失败,请在播放列表中删除它吧\n      </Paragraph>\n    </div>\n  )\n}\nconst WyExplain = () => {\n  return(\n    <div>\n      <Title level={2}>网易云音乐的说明</Title>\n      <Paragraph>\n        相比较恶心的QQ音乐,网易云的接口就很友好了,github上有nodeJS版本的API,绝大功能都有,如果你需要网易云音乐的一些功能,请<Text strong> 私聊我 </Text>或是在<Text strong> 我要提意见 </Text>里面提出\n      </Paragraph>\n    </div>\n  )\n}\n\nexport default DefaultSearchPage","import React from 'react'\r\n\r\n\r\nconst SongMenu = ()=> {\r\n  return(\r\n    <div className=\"defaule-page\">歌单页面</div>\r\n  )\r\n}\r\n\r\nexport default SongMenu","import { BehaviorSubject } from \"rxjs\";\n\nexport const currentPlay = new BehaviorSubject({\n  url:'',\n  img:'',\n  name:'',\n  art:'',\n  id:'',\n})\n\nexport const setCurrentPlay = (obj)=>{ \n  let play = currentPlay.value;\n  currentPlay.next({\n    ...play,\n    ...obj\n  })\n}\n\n//播放列表是个数组,里面存的是对象,对应的就是当前播放的格式\nexport const playList = new BehaviorSubject([])\n\nexport const pushPlayList = (obj)=>{\n  //其实push进来应该有别的操作,例如检查这个歌曲是否已经在列表中了,没有的话再添加\n  let list = playList.value\n  playList.next([...list,obj])\n}\n\nexport const deletePlayList = (index)=>{\n  playList.value.splice(index,1)\n  playList.next([...playList.value])\n}\n\n","/**\n *  listDta 是数据格式定义好了的数组内容,要求有如下\n *  {\n *    name:string,      歌曲名字\n *    art:string,       作家名字\n *    album:tring       专辑名称\n *    duration:number   时长,这个组件内处理\n *    source:qq or wy   来自于哪个资源\n *    id:number         歌曲的id,用于搜索的唯一键\n *  }\n * \n *  点击播放的话,先判断是qq还是网易,网易的比较好办,有现成的接口,qq的有加密有点麻烦,虽然多处理处理\n */\n\nimport React from 'react'\nimport { Row, Col, Icon, Tooltip } from 'antd'\nimport axios from 'axios'\nimport { setCurrentPlay, playList, pushPlayList } from '../../rxStore/playRx'\nimport './style.scss'\n\nconst SongList = ({listData})=>{\n\n  const playSong = (song,action) => {\n    //在申请网络接口前,我们要先判断下播放列表中是否有了这首歌,有的话就播放这个首歌,不要请求接口\n    const isExist = playList.value.find(item=>item.id===song.id)\n    if (isExist) return setCurrentPlay(isExist)\n    if (song.source === 'qq') return getQqUrl(song,action)\n    getWyUrl(song,action)\n  }\n  const getQqUrl = (song,action) => {\n    // qq音乐的实在是麻烦了,先用mid(id)申请个接口,接口里面有一个purl,拿到这个再拼接一下才能拿到真正播放地址\n    let urlData = JSON.stringify({\"req\":{\"module\":\"CDN.SrfCdnDispatchServer\",\"method\":\"GetCdnDispatch\",\"param\":{\"guid\":\"109711786\",\"calltype\":0,\"userip\":\"\"}},\"req_0\":{\"module\":\"vkey.GetVkeyServer\",\"method\":\"CgiGetVkey\",\"param\":{\"guid\":\"109711786\",\"songmid\":[song.id],\"songtype\":[0],\"uin\":\"0\",\"loginflag\":1,\"platform\":\"20\"}},\"comm\":{\"uin\":0,\"format\":\"json\",\"ct\":24,\"cv\":0}})\n    let url = 'https://bird.ioliu.cn/v2?url=https://u.y.qq.com/cgi-bin/musicu.fcg?-=getplaysongvkey5359184408452244&g_tk=5381&loginUin=0&hostUin=0&format=json&inCharset=utf8&outCharset=utf-8&notice=0&platform=yqq.json&needNewCode=0&data=' + urlData\n    axios.get(url).then(res=>{\n      // 真正的歌曲的url在这呢,注意ip地址会经常换的\n      let url = 'http://122.226.161.25/amobile.music.tc.qq.com/'+res.data.req_0.data.midurlinfo[0].purl;\n      //拿到了播放地址,要做两个操作.一个是切换当前播放歌曲,二是push进播放列表 \n      if (!action) {     \n        setCurrentPlay({\n          url,\n          id:song.id,\n          name:song.name,\n          art:song.art,\n          img:'',//这个没有,qq音乐的要再请求一个接口才有照片的.\n        })\n      }\n      pushPlayList({\n        art:song.art,\n        url,\n        id:song.id,\n        name:song.name,\n        img:'',\n      })\n    })\n  }\n  const getWyUrl = (song,action) => {\n    axios.get(`/wpi/song/url?id=${song.id}`).then(res=>{\n      if (!action) {\n        setCurrentPlay({\n          url:res.data.data[0].url,\n          id:song.id,\n          name:song.name,\n          art:song.art,\n          img:'',//这个没有,qq音乐的要再请求一个接口才有照片的.\n        })\n      }\n      pushPlayList({\n        art:song.art,\n        url:res.data.data[0].url,\n        id:song.id,\n        name:song.name,\n        img:'',\n      })\n    })\n  }\n  return(\n    <ul className=\"song-list\">\n      <li className=\"title\">\n        <Row>\n          <Col span={9} className=\"ellipsis\">歌曲</Col>\n          <Col span={5} className=\"ellipsis\">歌手</Col>\n          <Col span={8} className=\"ellipsis\">专辑</Col>\n          <Col span={2} className=\"ellipsis\">时长</Col>\n        </Row>\n      </li>\n      {\n        listData.map((song,index) =>{\n          return(\n            <li className=\"song\" key={index}>\n              <Row>\n                <Col span={9} className=\"d-f\">\n                  <Icon type=\"heart\" className=\"m-r-5 c-p collect-icon\"/>\n                  <div className=\"song-name\">\n                    <span className=\"m-r-5 c-p ellipsis\">{song.name}</span>\n                  </div>\n                  <div className=\"d-f d-b-a operation-icon-box\">\n                    <Tooltip title=\"播放\" placement=\"bottom\">\n                      <Icon \n                        type=\"play-circle\" \n                        className=\"operation-icon\"\n                        onClick={()=>{playSong(song)}}/>\n                    </Tooltip>\n                    <Tooltip title=\"添加至播放列表\" placement=\"bottom\">\n                      <Icon \n                        type=\"plus-circle\" \n                        className=\"operation-icon\"\n                        onClick={()=>{playSong(song,'noPlay')}}/>\n                    </Tooltip>\n                  </div>\n                </Col>\n                <Col span={5}>{song.art}</Col>\n                <Col span={8}>{song.album || ''}</Col>\n                <Col span={2}>{setFormat(song.duration,'minute')} : {setFormat(song.duration,'second')}</Col>\n              </Row>\n            </li>\n          )\n        })\n      }\n    </ul>\n  )\n}\nconst setFormat = (number,type) => {\n  let res = null\n  if (type === 'minute') {\n    res = Math.floor((number%3600000)/60000)\n  }else{\n    res = Math.floor((number%60000)/1000)\n  }\n  if (res<10) return res = '0' + res\n  return res\n}\nexport default SongList","import React, { useState, useEffect } from 'react'\nimport { withRouter } from \"react-router-dom\";\nimport axios from 'axios'\nimport SongList from '../../components/song-list'\n// import '../../common/song-list-style.scss'\nconst WySearchResult = (props) => {\n  const [songList, setSongList] = useState([]); //歌曲列表数据\n  useEffect(()=>{\n    let pathState = props.location.state\n    axios.get(`/wpi/search?keywords=${pathState.searchVlue}`,{}).then(res=>{\n      let data = res.data.result \n      if (res.data.code === 200) {\n        setSongList(data.songs.map(item=>{\n          return {\n            name:item.name,\n            art:item.artists[0].name,\n            album:item.album.name,\n            duration:item.duration,\n            source:'wy',\n            id:item.id\n          }\n        }))\n      }\n    })\n  },[])\n  return(\n    <div className=\"song-list\">\n      <div className=\"res-container\">\n        <SongList listData={songList}/>\n      </div>\n    </div>\n  )\n}\nconst setFormat = (number,type) => {\n  let res = null\n  if (type === 'minute') {\n    res = Math.floor((number%3600000)/60000)\n  }else{\n    res = Math.floor((number%60000)/1000)\n  }\n  if (res<10) return res = '0' + res\n  return res\n}\nconst WySearchResultRouter = withRouter(WySearchResult);\nexport default WySearchResultRouter","import React, { useState, useEffect } from 'react'\nimport { withRouter } from \"react-router-dom\";\nimport SongList from '../../components/song-list'\nimport axios from 'axios'\nimport '../../common/song-list-style.scss'\nconst QQsearchResult = (props) => {\n  //歌曲列表数据 这个songlist要求比较严格,因为是要送到子组件去使用的\n  const [songList, setSongList] = useState([]); \n  useEffect(()=>{\n    let pathState = props.location.state\n    axios.get(`https://bird.ioliu.cn/v2?url=https://c.y.qq.com/soso/fcgi-bin/client_search_cp?ct=24&qqmusic_ver=1298&new_json=1&remoteplace=txt.yqq.song&searchid=57753463161831399&t=0&aggr=1&cr=1&catZhida=1&lossless=0&flag_qc=0&p=1&n=20&w=${pathState.searchVlue}&g_tk=5381&loginUin=0&hostUin=0&format=json&inCharset=utf8&outCharset=utf-8&notice=0&platform=yqq.json&needNewCode=0`)\n    .then(res=>{\n      setSongList(res.data.data.song.list.map(item=>{\n        return {\n          name:item.title,\n          art:singers(item.singer),\n          album:item.album.name || '',\n          duration:item.interval * 1000,\n          source:'qq',\n          id:item.mid\n        }\n      }))\n      // let str = res.data.slice(9)\n      // str = str.slice(0,str.length-1)\n      // let data = JSON.parse(str)\n      // setSongList(data.data.song.list)\n    })\n  },[])\n  return(\n    <div className=\"song-list\">\n      {/* 这里应该是个tabs页,然后点击歌曲就显示歌曲结果,点击歌手就显示搜索歌手的结果*/}\n      <div className=\"res-container\">\n        <SongList listData={songList}/>\n      </div>\n    </div>\n  )\n}\nconst singers = (singers)=> {\n  let arr = singers.map(item=>{\n    return item.name\n  })\n  return arr.join('/')\n}\nconst QQsearchResultRouter = withRouter(QQsearchResult);\nexport default QQsearchResultRouter","import React from 'react'\n// import {BrowserRouter} from \"react-router-dom\";\nimport {Route, Switch} from \"react-router\";\nimport DefaultSearchPage from '../../pages/default-search-page'\nimport SongMenu from '../../pages/song-menu'\nimport WySearchResultRouter from '../../pages/wy-search-result'\nimport QQsearchResultRouter from '../../pages/qq-search-result'\nconst LayoutMain = ()=> {\n  return(\n    <div className=\"layout-main-box\">\n      <Switch>\n        <Route exact path=\"/\" component={DefaultSearchPage}/>\n        <Route exact path=\"/song-menu\" component={SongMenu}/>\n        <Route exact path=\"/wy-search-result\" component={WySearchResultRouter}/>\n        <Route exact path=\"/qq-search-result\" component={QQsearchResultRouter}/>\n        {/* <Route exact path=\"/page2\" component={组件2}/>\n        <Route exact path=\"/page1/add\" component={add组件}/> */}\n      </Switch>\n    </div>\n  )\n}\n\nexport default LayoutMain","import React, { useState } from 'react'\nimport { Icon } from 'antd'\nimport { useObservable } from 'rxjs-hooks'\nimport { currentPlay, setCurrentPlay, playList, deletePlayList } from '../../rxStore/playRx'\nimport './style.scss'\n\nconst AudioPlay = ()=>{\n  let play = useObservable(() => currentPlay.asObservable()) || currentPlay.value\n  let pList = useObservable(() => playList.asObservable()) || playList.value\n  const [showListBox, setShowListBox] = useState(false)\n  const nextPlay = (id)=> { \n    //点击下一曲和自动播放完了就执行这个函数,首先判断下当前曲目的位置,然后下一曲或是回到第一首,给setCurrentPlay赋值即可\n    //事实上这里还有单曲循环啥的很多操作,暂时简化一点\n    playList.value.forEach((item,index)=>{\n      if (item.id === id) {\n        if (index === playList.value.length-1) {\n          setCurrentPlay(pList[0])\n        }else{\n          setCurrentPlay(pList[index+1])\n        }\n      }\n    })\n  }\n  const lastPlay = (id) => {\n    playList.value.forEach((item,index)=>{\n      if (item.id === id) {\n        if (index === 0) {\n          alert('已经是第一首了,上一首上不动了')\n        }else{\n          setCurrentPlay(playList.value[index-1])\n        }\n      } \n    })\n  }\n  const deleteSongListItem = (id,index) => {\n    if (playList.value.length===1) {\n      setCurrentPlay({\n        url:'',\n        img:'',\n        name:'',\n        art:'',\n        id:''\n      })\n    }else{\n      nextPlay(id)\n    }\n    deletePlayList(index)\n  }\n  const isShowSongList = () => {\n    setShowListBox(!showListBox)\n  }\n  const playListSong = (song) => {\n    setCurrentPlay(song)\n  }\n  return (\n    <div className=\"play-footer\">\n      {/* 我在这个地方暂时插个东西,就是播放列表,样式上我还没想好,先随便写写 */}\n      { showListBox && \n        <div className=\"play-list-box\">\n          <div className=\"play-list-box-title\">我是头部,播放列表</div>\n          <ul>\n            { \n              pList.map((item,index)=>{\n                return(\n                  <li key={item.id} className=\"m-b-5\">\n                    <span className=\"c-p m-r-5\" onClick={()=>{playListSong(item)}}>{item.name}</span>\n                    {\n                      item.id === play.id &&\n                      <Icon type=\"play-circle\" className=\"m-r-5\"/>\n                    }\n                    <Icon type=\"delete\" onClick={()=>{deleteSongListItem(item.id,index)}}/>\n                  </li>\n                )\n              })\n            }\n          </ul>\n        </div>\n      }\n      <div className=\"play-footer-main d-f-b\">\n        <div className=\"song-content d-f\">\n          <div className=\"img-box\">\n            <img src=\"//y.gtimg.cn/music/photo_new/T001R150x150M0000025NhlN2yWrP4.jpg?max_age=2592000\"/> \n          </div>\n          <div className=\"song-info\">\n            <p className=\"info\">\n              <span className=\"name\">{play.name}</span>\n              <span> - </span>\n              <span>{play.art}</span>\n            </p>\n            <div className=\"song-icon d-f-b\">\n              <Icon type=\"heart\" />\n              <Icon type=\"align-left\" />\n            </div>\n          </div>\n        </div>\n        <div className=\"play-operate d-f\">\n          <audio \n            className=\"m-r-10\"\n            controls=\"controls\"\n            autoPlay=\"autoPlay\"\n            onEnded={()=>{nextPlay(play.id)}}\n            src={play.url}/>\n          <div className=\"small-icon m-r-10\">\n            <Icon type=\"fast-backward\" onClick={()=>{lastPlay(play.id)}}/>\n          </div>\n          <div className=\"small-icon\">\n            <Icon type=\"fast-forward\" onClick={()=>{nextPlay(play.id)}}/>\n          </div>\n        </div>\n\n        <div>\n          <div className=\"d-f inventory c-p\" onClick={()=>{isShowSongList()}}>\n            <span>列表</span>\n            <Icon type=\"menu-unfold\" className=\"menu-unfold\"/>\n            <span>{pList.length}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default AudioPlay","/**\n * 作为layout入口文件,整合了三个内容,分别是\n * 左侧的list菜单.\n * 右侧的内容,路由子页面,\n * 下面的播放界面\n * \n * 其中点击左侧联动右侧,点击右侧里面的播放部分联动底部.点击底部什么都不联动\n */\nimport React from 'react'\nimport Aside from './aside'\nimport LayoutMain from './main'\nimport AudioPlay from '../components/audio-play'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport './style.scss'\n\nconst Layout = () => {\n  return(\n    <Router>\n      <section className=\"layout-box\">\n        <Aside></Aside>\n        <LayoutMain></LayoutMain>\n      </section>\n      <section className=\"layout-footer\">\n        <AudioPlay />\n      </section>\n    </Router>\n  )\n}\nexport default Layout\n","/**\n * 因为思前想后,还是模仿的QQ音乐的客户端的UI/交互/布局\n * 作为入口,需要有 layout 管理大体的显示内容\n * 如果有其他的路由内容,再添加\n */\nimport React from 'react';\nimport LayoutBox from './layout'\nimport './style/reset-style.css'\nimport './style/public-use.css'\nimport './style/and-style.css'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <LayoutBox></LayoutBox>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}